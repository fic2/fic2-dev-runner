<!DOCTYPE html>  <html> <head>   <title>JSTACK.Nova.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="JSTACK.Comm.html">                 JSTACK.Comm.js               </a>                                           <a class="source" href="JSTACK.Glance.html">                 JSTACK.Glance.js               </a>                                           <a class="source" href="JSTACK.Keystone.html">                 JSTACK.Keystone.js               </a>                                           <a class="source" href="JSTACK.Nova.Volume.html">                 JSTACK.Nova.Volume.js               </a>                                           <a class="source" href="JSTACK.Nova.html">                 JSTACK.Nova.js               </a>                                           <a class="source" href="JSTACK.Utils.html">                 JSTACK.Utils.js               </a>                                           <a class="source" href="JSTACK.html">                 JSTACK.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               JSTACK.Nova.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">The MIT License</span>

<span class="cm">Copyright (c) 2012 Universidad Politecnica de Madrid</span>

<span class="cm">Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="cm">of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="cm">in the Software without restriction, including without limitation the rights</span>
<span class="cm">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="cm">copies of the Software, and to permit persons to whom the Software is</span>
<span class="cm">furnished to do so, subject to the following conditions:</span>

<span class="cm">The above copyright notice and this permission notice shall be included in</span>
<span class="cm">all copies or substantial portions of the Software.</span>

<span class="cm">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="cm">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="cm">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="cm">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="cm">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="cm">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span>
<span class="cm">THE SOFTWARE.</span>
<span class="cm">*/</span>

</pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h2>JStack Nova Module</h2>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>This module provides Nova API functions.</p>             </td>             <td class="code">               <div class="highlight"><pre>
<span class="nx">JSTACK</span><span class="p">.</span><span class="nx">Nova</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">JS</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">params</span><span class="p">,</span> <span class="nx">configure</span><span class="p">,</span> <span class="nx">check</span><span class="p">,</span> <span class="nx">postAction</span><span class="p">,</span> <span class="nx">getserverlist</span><span class="p">,</span> <span class="nx">getserverdetail</span><span class="p">,</span> <span class="nx">getserverips</span><span class="p">,</span>
        <span class="nx">updateserver</span><span class="p">,</span> <span class="nx">createserver</span><span class="p">,</span> <span class="nx">deleteserver</span><span class="p">,</span> <span class="nx">changepasswordserver</span><span class="p">,</span>
        <span class="nx">rebootserverhard</span><span class="p">,</span> <span class="nx">rebootserversoft</span><span class="p">,</span> <span class="nx">resizeserver</span><span class="p">,</span> <span class="nx">confirmresizedserver</span><span class="p">,</span>
        <span class="nx">revertresizedserver</span><span class="p">,</span> <span class="nx">startserver</span><span class="p">,</span> <span class="nx">stopserver</span><span class="p">,</span> <span class="nx">pauseserver</span><span class="p">,</span>
        <span class="nx">unpauseserver</span><span class="p">,</span> <span class="nx">suspendserver</span><span class="p">,</span> <span class="nx">resumeserver</span><span class="p">,</span> <span class="nx">createimage</span><span class="p">,</span> <span class="nx">getflavorlist</span><span class="p">,</span>
        <span class="nx">getflavordetail</span><span class="p">,</span> <span class="nx">createflavor</span><span class="p">,</span> <span class="nx">deleteflavor</span><span class="p">,</span> <span class="nx">getimagelist</span><span class="p">,</span>
        <span class="nx">getimagedetail</span><span class="p">,</span> <span class="nx">deleteimage</span><span class="p">,</span> <span class="nx">getkeypairlist</span><span class="p">,</span> <span class="nx">createkeypair</span><span class="p">,</span>
        <span class="nx">deletekeypair</span><span class="p">,</span> <span class="nx">getvncconsole</span><span class="p">,</span> <span class="nx">getconsoleoutput</span><span class="p">,</span> <span class="nx">getattachedvolumes</span><span class="p">,</span>
        <span class="nx">attachvolume</span><span class="p">,</span> <span class="nx">detachvolume</span><span class="p">,</span> <span class="nx">getattachedvolume</span><span class="p">;</span>

</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>This modules stores the <code>url</code>to which it will send every
request.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">url</span> <span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span>
        <span class="nx">state</span> <span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span>
        <span class="nx">endpointType</span> <span class="o">:</span> <span class="s2">&quot;publicURL&quot;</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <h2>Private functions</h2>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Function <code>_check</code> internally confirms that Keystone module is
authenticated and it has the URL of the Nova service.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">check</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span>
                <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">currentstate</span> <span class="o">===</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">STATES</span><span class="p">.</span><span class="nx">AUTHENTICATED</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">service</span> <span class="o">=</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">getservice</span><span class="p">(</span><span class="s2">&quot;compute&quot;</span><span class="p">);</span>
            <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nx">endpoints</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">params</span><span class="p">.</span><span class="nx">endpointType</span><span class="p">];</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>This function is used internally to send Actions to server identified
with <code>id</code>. In <code>data</code> we pass the corresponding information about the
action.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">postAction</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">query</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOk</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s1">&#39;/action&#39;</span><span class="p">;</span>

        <span class="nx">onOk</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOk</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h2>Public functions</h2>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>This function sets the endpoint type for making requests to Glance.
It could take one of the following values:
* "adminURL"
* "internalURL"
* "publicURL"
You can use this function to change the default endpointURL, which is publicURL. </p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">configure</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">endpointType</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">endpointType</span> <span class="o">===</span> <span class="s2">&quot;adminURL&quot;</span> <span class="o">||</span> <span class="nx">endpointType</span> <span class="o">===</span> <span class="s2">&quot;internalURL&quot;</span> <span class="o">||</span> <span class="nx">endpointType</span> <span class="o">===</span> <span class="s2">&quot;publicURL&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">params</span><span class="p">.</span><span class="nx">endpointType</span> <span class="o">=</span> <span class="nx">endpointType</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">};</span>


</pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p><strong>Server Operations</strong></p>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>This operation provides a list of servers associated with the account. In
<a href="http://docs.openstack.org/api/openstack-compute/2/content/List_Servers-d1e2078.html">Create Server List</a>
there is more information about the JSON object that is returned.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getserverlist</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">detailed</span><span class="p">,</span> <span class="nx">allTenants</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers&#39;</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">detailed</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">detailed</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">url</span> <span class="o">+=</span> <span class="s1">&#39;/detail&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">allTenants</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">url</span> <span class="o">+=</span> <span class="s1">&#39;?all_tenants=&#39;</span> <span class="o">+</span> <span class="nx">allTenants</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>This operation returns the details of a specific server by its <code>id</code>. In
<a href="http://docs.openstack.org/api/openstack-compute/2/content/Get_Server_Details-d1e2623.html">Get Server Details</a>
there is more information about the JSON object that is returned.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getserverdetail</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>This operation returns the ip address of a specific server by its <code>id</code>.
In
<a href="http://docs.openstack.org/api/openstack-compute/2/content/List_Addresses-d1e3014.html">List Addresses</a>
and in
<a href="http://docs.openstack.org/api/openstack-compute/2/content/List_Addresses_by_Network-d1e3118.html">List Addresses by Network</a>
there is more information about the JSON object that is returned.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getserverips</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">networkID</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s1">&#39;/ips&#39;</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">networkID</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">url</span> <span class="o">+=</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nx">networkID</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>This operation updates the the <code>name</code> of the server given by its <code>id</code>. In
<a href="http://docs.openstack.org/api/openstack-compute/2/content/ServerUpdate.html">Server Update</a>
there is more information about the JSON object that is returned.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">updateserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">,</span> <span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">name</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;server&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="nx">name</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>This operation asynchronously provisions a new server. The progress of
this operation depends on several factors including location of the
requested image, network i/o, host load, and the selected flavor. The
progress of the request can be checked by performing a <code>getserverdetail</code>,
which will return a progress attribute (0-100% completion).</p>

<p>Arguments in this function are:</p>

<p>a. Mandatory</p>

<ul>
<li><p>The <code>name</code> we want to put to the new server</p></li>
<li><p>The <code>imageRef</code>, that is the id of the image we will
instantiate</p></li>
<li><p>The <code>flavorReg</code>, that is the id of the flavor we will use</p></li>
</ul>

<p>b. Optional</p>

<ul>
<li><p>The <code>key_name</code> that corresponds to the name of the key we will
later use to access the instance by SSH (default is None)</p></li>
<li><p>Some raw data as <code>user_data</code> (default is None)</p></li>
<li><p>An array with names of the <code>security_groups</code> in which we want to
put our instance (default is none)</p></li>
<li><p>The minimum number of instances to be started as <code>min_count</code> (
default is 1)</p></li>
<li><p>The maximum number of instances as <code>max_count</code> (default is 1)</p></li>
<li><p>And the <code>availability_zone</code> (default is None)</p></li>
</ul>

<p>In <a href="http://docs.openstack.org/api/openstack-compute/2/content/CreateServers.html">Create Servers</a>
there is more information about the JSON object that is returned.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">createserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">imageRef</span><span class="p">,</span> <span class="nx">flavorRef</span><span class="p">,</span> <span class="nx">key_name</span><span class="p">,</span> <span class="nx">user_data</span><span class="p">,</span> <span class="nx">security_groups</span><span class="p">,</span> <span class="nx">min_count</span><span class="p">,</span> <span class="nx">max_count</span><span class="p">,</span> <span class="nx">availability_zone</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">groups</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">group</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;server&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="nx">name</span><span class="p">,</span>
                <span class="s2">&quot;imageRef&quot;</span> <span class="o">:</span> <span class="nx">imageRef</span><span class="p">,</span>
                <span class="s2">&quot;flavorRef&quot;</span> <span class="o">:</span> <span class="nx">flavorRef</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">key_name</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">key_name</span> <span class="o">=</span> <span class="nx">key_name</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">user_data</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">user_data</span> <span class="o">=</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="nx">user_data</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">security_groups</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">security_groups</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">security_groups</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">group</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="nx">security_groups</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
                    <span class="p">};</span>
                    <span class="nx">groups</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">group</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="nx">data</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">security_groups</span> <span class="o">=</span> <span class="nx">groups</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">min_count</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">min_count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">data</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">min_count</span> <span class="o">=</span> <span class="nx">min_count</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">max_count</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">max_count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">data</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">max_count</span> <span class="o">=</span> <span class="nx">max_count</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">availability_zone</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">availability_zone</span> <span class="o">=</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="nx">availability_zone</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>

    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>This operation deletes a cloud server instance from the system.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Delete_Server-d1e2883.html">Delete Server</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">deleteserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">del</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p><strong>Server Actions</strong></p>

<p>Take a look at <code>postAction</code> for detailed information about requests.</p>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>This operation changes the server's administrator password.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Change_Password-d1e3234.html">Change Password</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">changepasswordserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">adminPass</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">adminPass</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;changePassword&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;adminPass&quot;</span> <span class="o">:</span> <span class="nx">adminPass</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>This operation allows for a hard reboot that is the equivalent of power
cycling the server.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">rebootserverhard</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;reboot&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;HARD&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>This operation allows for a soft reboot, which allows for a graceful
shutdown of all processes.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Reboot_Server-d1e3371.html">Reboot Server</a>
there is more information about hard and soft reboots.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">rebootserversoft</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;reboot&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;SOFT&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>The resize function converts an existing server to a different flavor,
in essence, scaling the server up or down. The original server is saved
for a period of time to allow rollback if there is a problem. All resizes
should be tested and explicitly confirmed with <code>confirmresizedserver</code>, at
which time the original server is removed. All resizes are automatically
confirmed after 24 hours if they are not explicitly confirmed or reverted.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Resize_Server-d1e3707.html">Resize Server</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">resizeserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">flavorRef</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;resize&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;flavorRef&quot;</span> <span class="o">:</span> <span class="nx">flavorRef</span>
            <span class="p">}</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>During a resize operation, the original server is saved for a period of
time to allow roll back if there is a problem. Once the newly resized
server is tested and has been confirmed to be functioning properly, use
this operation to confirm the resize. After confirmation, the original
server is removed and cannot be rolled back to. All resizes are
automatically confirmed after 24 hours if they are not explicitly
confirmed or reverted.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Confirm_Resized_Server-d1e3868.html">Confirm Resized Server</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">confirmresizedserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;confirmResize&quot;</span> <span class="o">:</span> <span class="kc">null</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Revert_Resized_Server-d1e4024.html">Revert Resized Server</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">revertresizedserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;revertResize&quot;</span> <span class="o">:</span> <span class="kc">null</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>It halts a running server. Changes status to STOPPED.
In <a href="http://api.openstack.org/">Start Server</a> there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">startserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;os-start&quot;</span> <span class="o">:</span> <span class="kc">null</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>Returns a STOPPED server to ACTIVE status.
In <a href="http://api.openstack.org/">Stop Server</a> there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">stopserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;os-stop&quot;</span> <span class="o">:</span> <span class="kc">null</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>It pauses a running server. Changes status to PAUSED.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">pauseserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;pause&quot;</span> <span class="o">:</span> <span class="kc">null</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Returns a PAUSED server to ACTIVE status.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">unpauseserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;unpause&quot;</span> <span class="o">:</span> <span class="kc">null</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>It pauses a running server. Changes status to SUSPENDED.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">suspendserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;suspend&quot;</span> <span class="o">:</span> <span class="kc">null</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>Returns a SUSPENDED server to ACTIVE status.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">resumeserver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;resume&quot;</span> <span class="o">:</span> <span class="kc">null</span>
        <span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>This action creates a new image for the given server. Once complete, a
new image will be available that can be used to rebuild or create servers.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Create_Image-d1e4655.html">Create Image</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">createimage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">metadata</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;createImage&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s1">&#39;name&#39;</span> <span class="o">:</span> <span class="nx">name</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="nx">data</span><span class="p">.</span><span class="nx">createImage</span><span class="p">.</span><span class="nx">metadata</span> <span class="o">=</span> <span class="p">{};</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">metadata</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">createImage</span><span class="p">.</span><span class="nx">metadata</span> <span class="o">=</span> <span class="nx">metadata</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p><strong>Flavor Operations</strong></p>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>This operation will list all available flavors.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/List_Flavors-d1e4188.html">List Flavors</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getflavorlist</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">detailed</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/flavors&#39;</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">detailed</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">detailed</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">url</span> <span class="o">+=</span> <span class="s1">&#39;/detail&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>
        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>This operation returns details of the specified flavor.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Get_Flavor_Details-d1e4317.html">Get Flavor Details</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getflavordetail</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/flavors/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>
        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>This operation creates a new flavor, using information given in arguments:
the <code>name</code> of the new flavor, the number of MB of <code>ram</code>, the <code>id</code> of the new
flavor, the number of GB of root <code>disk</code>, the number of GB of <code>ephemeral</code> disk,
the number of MB of <code>swap</code> space, and the <code>rxtx_factor</code>.
Arguments <code>ephemeral</code>, <code>swap</code>, <code>rxtx_factor</code> and <code>callback</code> are optional.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">createflavor</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">ram</span><span class="p">,</span> <span class="nx">vcpus</span><span class="p">,</span> <span class="nx">disk</span><span class="p">,</span> <span class="nx">flavorid</span><span class="p">,</span> <span class="nx">ephemeral</span><span class="p">,</span> <span class="nx">swap</span><span class="p">,</span> <span class="nx">rxtx_factor</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">,</span> <span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/flavors&#39;</span><span class="p">;</span>
        <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;flavor&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="nx">name</span><span class="p">,</span>
                <span class="s2">&quot;ram&quot;</span> <span class="o">:</span> <span class="nx">ram</span><span class="p">,</span>
                <span class="s2">&quot;vcpus&quot;</span> <span class="o">:</span> <span class="nx">vcpus</span><span class="p">,</span>
                <span class="s2">&quot;disk&quot;</span> <span class="o">:</span> <span class="nx">disk</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="nx">flavorid</span><span class="p">,</span>
                <span class="s2">&quot;swap&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;OS-FLV-EXT-DATA:ephemeral&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;rxtx_factor&quot;</span> <span class="o">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">ephemeral</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">flavor</span><span class="p">[</span><span class="s2">&quot;OS-FLV-EXT-DATA:ephemeral&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">ephemeral</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">swap</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">flavor</span><span class="p">.</span><span class="nx">swap</span> <span class="o">=</span> <span class="nx">swap</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">rxtx_factor</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">flavor</span><span class="p">.</span><span class="nx">rxtx_factor</span> <span class="o">=</span> <span class="nx">rxtx_factor</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>
        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>This operation deletes flavor, specified by its <code>id</code>.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Get_Flavor_Details-d1e4317.html">Get Flavor Details</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">deleteflavor</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/flavors/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">del</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p><strong>Image Operations</strong></p>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>This operation will list all images visible by the account.
In-flight images will have the status attribute set to SAVING and the
conditional progress element (0-100% completion) will also be returned.
Other possible values for the status attribute include: UNKNOWN, ACTIVE,
SAVING, ERROR, and DELETED. Images with an ACTIVE status are available
for install.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/List_Images-d1e4435.html">List Images</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getimagelist</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">detailed</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/images&#39;</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">detailed</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">detailed</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">url</span> <span class="o">+=</span> <span class="s1">&#39;/detail&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>This operation returns details of the image specified by its <code>id</code>.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Get_Image_Details-d1e4848.html">Get Image Details</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getimagedetail</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/images/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>
        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <p>This operation deletes an image from the system, specified by its <code>id</code>.
Images are immediately removed. Currently, there are no state transitions
to track the delete operation.
In <a href="http://docs.openstack.org/api/openstack-compute/2/content/Delete_Image-d1e4957.html">Delete Image</a>
there is more information.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">deleteimage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/images/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>
        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">del</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <p>This operation retrieves a list of available Key-pairs.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getkeypairlist</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/os-keypairs&#39;</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <p>This operation creates a new Key-pair.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">createkeypair</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">pubkey</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">,</span> <span class="nx">body</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/os-keypairs&#39;</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>
        <span class="nx">body</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;keypair&#39;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s1">&#39;name&#39;</span> <span class="o">:</span> <span class="nx">name</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">pubkey</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">body</span><span class="p">.</span><span class="nx">keypair</span><span class="p">.</span><span class="nx">public_key</span> <span class="o">=</span> <span class="nx">pubkey</span><span class="p">;</span>

        <span class="p">}</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">body</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <p>This operation retrieves a list of available Key-pairs.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">deletekeypair</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/os-keypairs/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">del</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <p>Get a vnc console for an instance
id: The server's ID to get the vnc console from.
console_type: Type of vnc console to get ('novnc' or 'xvpvnc')</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getvncconsole</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">console_type</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">console_type</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="o">!</span><span class="nx">console_type</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console_type</span> <span class="o">=</span> <span class="s2">&quot;novnc&quot;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;os-getVNCConsole&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s1">&#39;type&#39;</span> <span class="o">:</span> <span class="nx">console_type</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <p>Get text console log output from Server.
id: The server's ID to get the vnc console from.
length: The number of tail loglines you would like to retrieve.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getconsoleoutput</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">length</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">length</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="o">!</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">length</span> <span class="o">=</span> <span class="mi">35</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;os-getConsoleOutput&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s1">&#39;length&#39;</span> <span class="o">:</span> <span class="nx">length</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="nx">postAction</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <p>Lists the volume attachments for the specified server.
id: The server's ID to get the volume attachments from.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getattachedvolumes</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s1">&#39;/os-volume_attachments&#39;</span><span class="p">;</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <p>Attaches a volume to the specified server.
id: The server's ID.
volume_id: The volume's ID to be attached to the server.
device: The device where we want to attach this volume.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">attachvolume</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">volume_id</span><span class="p">,</span> <span class="nx">device</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">,</span> <span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s1">&#39;/os-volume_attachments&#39;</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">volume_id</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">device</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;volumeAttachment&#39;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s1">&#39;volumeId&#39;</span> <span class="o">:</span> <span class="nx">volume_id</span><span class="p">,</span>
                <span class="s1">&#39;device&#39;</span> <span class="o">:</span> <span class="nx">device</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>

    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <p>Deletes the specified volume attachment from the specified server.
id: The server's ID.
volume_id: The volume's ID to be detached from the server.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">detachvolume</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">volume_id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s1">&#39;/os-volume_attachments/&#39;</span> <span class="o">+</span> <span class="nx">volume_id</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">volume_id</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">del</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>

    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <p>Lists volume details for the specified volume attachment ID.
id: The server's ID.
volume_id: The volume's ID.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">getattachedvolume</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">volume_id</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">check</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">url</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;/servers/&#39;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s1">&#39;/os-volume_attachments/&#39;</span> <span class="o">+</span> <span class="nx">volume_id</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">volume_id</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">onOK</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">JS</span><span class="p">.</span><span class="nx">Comm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JS</span><span class="p">.</span><span class="nx">Keystone</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span> <span class="nx">onOK</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>

    <span class="p">};</span>
</pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <h2>Public Functions and Variables</h2>

<p>This is the list of available public functions and variables</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="k">return</span> <span class="p">{</span>

</pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <p>Functions:</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">configure</span> <span class="o">:</span> <span class="nx">configure</span><span class="p">,</span>
        <span class="nx">getserverlist</span> <span class="o">:</span> <span class="nx">getserverlist</span><span class="p">,</span>
        <span class="nx">getserverdetail</span> <span class="o">:</span> <span class="nx">getserverdetail</span><span class="p">,</span>
        <span class="nx">getserverips</span> <span class="o">:</span> <span class="nx">getserverips</span><span class="p">,</span>
        <span class="nx">updateserver</span> <span class="o">:</span> <span class="nx">updateserver</span><span class="p">,</span>
        <span class="nx">createserver</span> <span class="o">:</span> <span class="nx">createserver</span><span class="p">,</span>
        <span class="nx">deleteserver</span> <span class="o">:</span> <span class="nx">deleteserver</span><span class="p">,</span>
        <span class="nx">changepasswordserver</span> <span class="o">:</span> <span class="nx">changepasswordserver</span><span class="p">,</span>
        <span class="nx">rebootserverhard</span> <span class="o">:</span> <span class="nx">rebootserverhard</span><span class="p">,</span>
        <span class="nx">rebootserversoft</span> <span class="o">:</span> <span class="nx">rebootserversoft</span><span class="p">,</span>
        <span class="nx">resizeserver</span> <span class="o">:</span> <span class="nx">resizeserver</span><span class="p">,</span>
        <span class="nx">confirmresizedserver</span> <span class="o">:</span> <span class="nx">confirmresizedserver</span><span class="p">,</span>
        <span class="nx">revertresizedserver</span> <span class="o">:</span> <span class="nx">revertresizedserver</span><span class="p">,</span>
        <span class="nx">startserver</span> <span class="o">:</span> <span class="nx">startserver</span><span class="p">,</span>
        <span class="nx">stopserver</span> <span class="o">:</span> <span class="nx">stopserver</span><span class="p">,</span>
        <span class="nx">pauseserver</span> <span class="o">:</span> <span class="nx">pauseserver</span><span class="p">,</span>
        <span class="nx">unpauseserver</span> <span class="o">:</span> <span class="nx">unpauseserver</span><span class="p">,</span>
        <span class="nx">suspendserver</span> <span class="o">:</span> <span class="nx">suspendserver</span><span class="p">,</span>
        <span class="nx">resumeserver</span> <span class="o">:</span> <span class="nx">resumeserver</span><span class="p">,</span>
        <span class="nx">createimage</span> <span class="o">:</span> <span class="nx">createimage</span><span class="p">,</span>
        <span class="nx">getflavorlist</span> <span class="o">:</span> <span class="nx">getflavorlist</span><span class="p">,</span>
        <span class="nx">getflavordetail</span> <span class="o">:</span> <span class="nx">getflavordetail</span><span class="p">,</span>
        <span class="nx">createflavor</span> <span class="o">:</span> <span class="nx">createflavor</span><span class="p">,</span>
        <span class="nx">deleteflavor</span> <span class="o">:</span> <span class="nx">deleteflavor</span><span class="p">,</span>
        <span class="nx">getimagelist</span> <span class="o">:</span> <span class="nx">getimagelist</span><span class="p">,</span>
        <span class="nx">getimagedetail</span> <span class="o">:</span> <span class="nx">getimagedetail</span><span class="p">,</span>
        <span class="nx">deleteimage</span> <span class="o">:</span> <span class="nx">deleteimage</span><span class="p">,</span>
        <span class="nx">getkeypairlist</span> <span class="o">:</span> <span class="nx">getkeypairlist</span><span class="p">,</span>
        <span class="nx">createkeypair</span> <span class="o">:</span> <span class="nx">createkeypair</span><span class="p">,</span>
        <span class="nx">deletekeypair</span> <span class="o">:</span> <span class="nx">deletekeypair</span><span class="p">,</span>
        <span class="nx">getvncconsole</span> <span class="o">:</span> <span class="nx">getvncconsole</span><span class="p">,</span>
        <span class="nx">getconsoleoutput</span> <span class="o">:</span> <span class="nx">getconsoleoutput</span><span class="p">,</span>
        <span class="nx">getattachedvolumes</span> <span class="o">:</span> <span class="nx">getattachedvolumes</span><span class="p">,</span>
        <span class="nx">attachvolume</span> <span class="o">:</span> <span class="nx">attachvolume</span><span class="p">,</span>
        <span class="nx">detachvolume</span> <span class="o">:</span> <span class="nx">detachvolume</span><span class="p">,</span>
        <span class="nx">getattachedvolume</span> <span class="o">:</span> <span class="nx">getattachedvolume</span>
    <span class="p">};</span>

<span class="p">}(</span><span class="nx">JSTACK</span><span class="p">));</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 